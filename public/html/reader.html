<!DOCTYPE html>
<html>

<head>
    <title>W3.CSS Template</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto"> -->
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" href="../css/reader.css" />
    
    <!-- Testing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.5/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/epubjs/dist/epub.min.js"></script>
    <style>
      body {
        margin: 0;
      }

      #reader {
        height: 800px;
        width: 900px;
        overflow: hidden !important;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .arrow {
        position: fixed;
        top: 50%;
        margin-top: -32px;
        font-size: 64px;
        color: #063c87;
        font-family: arial, sans-serif;
        font-weight: bold;
        cursor: pointer;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
        text-decoration: none;
      }

      #next {
        right: 0;
      }

    </style>
</head>

<body>
    <!-- <div class="secondBody"> -->
    <div class="Title">
        <i class="fa fa-search"></i>
        <i class="fa fa-search" style="font-size:24px"></i>
        <i class="fa fa-search" style="font-size:36px"></i>
        <i class="fa fa-search" style="font-size:48px;color:red"></i>
        <div id="username-display">
            <a href="./login.html"><img src="../assets/login.png" id="loginBtn"></a></p>
        </div>
        <div id="logout-area"></div>
        <!-- <div id="register-display">
            <a href="./register.html">Register<img src="" id="registerBtn"></a>
        </div> -->

    </div>
    <div class="big_container">
        <!-- /* ---------sideBar--------------------------------------------------------------------------- */ -->

        <nav class="w3-bar-block" id="mySidebar">
            <div class="sideBarContainer">
                <h3 class="shopName"><b>NAME</b></h3>
            </div>
            <div class="sideBarText">

                <a href="#" class="w3-bar-item sideBarBtn">Book</a>
                <a href="#" class="w3-bar-item sideBarBtn">New</a>
                <a href="#" class="w3-bar-item sideBarBtn">Test</a>
                <a href="#" class="w3-bar-item sideBarBtn ">Test</a>
            </div>
            <a href="#sideBarFooter" class="sideBarBtn w3-padding">Contact</a>
            <a href="#sideBarFooter" class="w3-bar-item sideBarBtn">Test</a>
        </nav>
        <!--------------------------------- photosBox ---------------------------------->
        <!-- <div> -->
        <div class="textContaniner">
            <div class="textTitle">
                <h1>Book Name & Chapter</h1>
            </div>
            <div class="bookText">

                <!-- Testing -->
                <div>
                <div id="reader" style="background-color: antiquewhite; width: 100%; height: 800;"></div>
	<a id="prev" href="#prev" class="arrow" style="visibility: visible;">‹</a>
	<a id="next" href="#next" class="arrow" style="visibility: visible;">›</a>
</div>


                <!-- <p>高雄小港機場上的時鐘，顯示著差六分就五點鐘，高大的男孩，從計程車上跳下，就一路從門口走來，抬起黝黑的臉，瞇著眼看著時間。他的心，跳動著自己都很吃驚，因為無法控制。再過六分鐘，他就要見到一個特別的女人。

                    他從未見過她，但在過去七個月裡，佔有最重要的地位。

                    他盡量靠近旅客走出來的地方，希望能夠一眼就認出她。

                    他還記得在研究室趕報告的夜晚，身邊被報表紙包圍，滿腦子數據，雙腿累的無法走出去吃碗麵，不過，仍然坐在電腦面前，將現在煩躁的心境，寫Email告訴她。

                    很快，就收到她的Reply了：「希望你能乖乖地去吃些東西，保持健康身體，考完後，才有好的心情，帶我看看南部的夕陽。」

                    他窩心的繼續趕報告，知道遠方有個女孩，正為他熬夜而緊張。轉眼，煩悶的心情，一整夜都不再出現。

                    今天這一天，終於來臨，差四分五點，真的要帶她去看夕陽，他不安的四處張望。

                    諾大的機場，匆忙的旅客到處走來走去，一個女孩走過他的面前，長長的頭髮，綠色的墨鏡，斜插在胸前，他盯著她看，不是約好的眼鏡樣式，而且她太年輕了。大約十八歲而已，而曉月卻告訴他，她已經是個很成熟很老的女人了。那又怎樣，「我已經快三十了」他騙曉月，其實他才剛過二十歲生日。

                    他的心思又回到那天晚上，在雲技的Talk板上，看到一個署名「小鬼，別Paging我，大姐會生氣」的標題，一向好強的他，就呼叫過去了。想不到曉月竟然回覆，而且,開始長達七個月Email往返。

                    這段時間以來，一直不斷的Email來往，還特地去申請令人反感的Hinet為的就是回家以後，能繼續收到她的信。有的時候電腦當機，很久都無法上線，可是她仍然寫信給他，所以他認為倆人是相愛的。

                    儘管不斷向她要照片，總是一次又一次的拒絕，感覺實在令他很不舒服，不過，她解釋：「假如你對我的感情是真的，我長得如何並不重要。假使我長得漂亮，我會以為你因外貌而愛我，那樣的愛，當然我不想要。假如我長得不怎麼樣（你必須承認這點比較可能），我會害怕你只是打電腦無聊，別無選擇才跟我通信，不要要求看我的照片，將來我南下找你，就可看到我，到時你可以自己決定，見面之後，自由選擇要不要繼續下去‧‧‧」

                    還有一分鐘五點，他緊張的抽起一根煙。這時，他的心，比毀滅戰士最末一關還要緊張。

                    一個年輕女子向他走來，雙腿修長高眺，長長的秀髮，紮成馬尾躺在小巧的耳後，明亮的雙眸，秀麗而彎彎的眉毛，溫柔的雙唇，美麗的安置在勻稱的鵝蛋臉上。身穿淺白色T恤，像世界上最美好的春光。

                    他開始向她走去，完全忘記去注意她根本沒戴太陽眼鏡。

                    女子看到他，雙眉揚起，嘴角輕輕嘟起，做了一個挑逗而吃驚的俏皮表情。「一起叫車怎樣？我到漢神百貨」她輕聲地說。

                    他無法再自制靠近她，因為他看到了曉月。

                    她站在女孩後面走來，少說也有三四十。她不僅豐腴，皺折的衣服，凌亂的頭髮，兩根粗腿，還撐著一雙老氣高跟鞋，完全看不出時髦的樣子，倒挺剛像生過孩子的媽。不過，她額頭上，卻頂著一支CK眼鏡。

                    穿T恤的女孩迅速走開。

                    他希望自己分裂為二，一來能夠與白色T恤女孩共乘，卻又希望與曉月見面。她的靈魂一直陪伴他，鼓舞他，而現在，她就在眼前。蒼白而豐滿的臉，溫柔又敏銳，現在他看出來了，她的眼充滿慈愛溫暖的光。

                    他沒有遲疑，緊緊抓著手中的PC
                    Home，讓她能認出來。這也許不是愛，而是比愛更珍貴，更稀有的友情，他將會很感激，而且會永遠記住。他挺起胸膛，打了招呼，把雜誌秀給女人看，雖然他鼓起勇氣說話，但內心仍被失望的苦澀煩惱。

                    「請問．．．．您是曉月吧？很高興見到您，我．．．可以帶您去看夕陽了嗎？」

                    女人的臉，開懷的笑了起來：「帥哥，我不知道到底是怎樣一回事，」她回答，
                    「那個穿T恤的女孩，就是剛剛走在我前面的那一位，在飛機上坐我隔壁。請我把眼鏡戴在頭上，她說如果你邀我看夕陽，我就告訴你，她在機場的黎明書局等你。」

                    　

                    後記：
                    很好的一個結局不是嗎？或許真誠才是一切的原點。這是朋友傳給我的，我不知原作者是誰，但是一篇很好的短篇小說，希望大家喜歡。</a> -->

            </div>

        </div>
    </div>
    <!----------------------------------------------------------------------------->
    </div><!--------------------------mobile bar------------------------------------>

    <!--------------------------------chatBox---------------------------------------->

    
</body>
<!-- <script>
    try {

      const queryString = window.location.search;
      console.log(queryString);
      const urlParams = new URLSearchParams(queryString);
      const book = urlParams.get('book')
      console.log(book);
// shirt
      // const url = new URL('https://localhost:8100/test.html?param=http://localhost:8100/原子習慣.epub');
      // console.log(url.searchParams.get('book')); 

      //let bookUrl = 'https://filesamples.com/samples/ebook/epub/Sway.epub'
      let bookUrl = `http://localhost:8100/${book}.epub`;
      let epubReader = ePub(bookUrl);
	  var rendition = epubReader.renderTo("reader", { flow: "paginated", width: "900", height: "820", allowScriptedContent: true })
      var displayed = rendition.display();

	  var prev = document.getElementById("prev");
      prev.addEventListener("click", function(e){
        rendition.prev()
        e.preventDefault();
      }, false);

	  var next = document.getElementById("next");

      next.addEventListener("click", function(e){
		console.log(epubReader.package.metadata.direction)
		console.log(rendition)
      rendition.next()
        e.preventDefault();
		console.log("123")
      }, false);

    } catch (e) {
      alert("error 1" + e);

      
    }
  </script> -->

</html>